# Quickly create an FSx for NetApp ONTAP file system

## What is FSx for NetApp ONTAP (FSxO)
Amazon FSx for NetApp ONTAP is a fully managed service that provides highly reliable, scalable, performant, and feature-rich file storage built on NetApp's popular ONTAP file system. It provides the familiar features, performance, capabilities, and APIs of NetApp file systems with the agility, scalability, and simplicity of a fully managed AWS service.

## Architecture Diagram

There are two cloudformation templates provided in this repo:

To run stateful applications on Amazon ESK, there are a variety of storage types to choose from at this point of writing, including Amazon EBS, Amazon EFS or Amazon FSx for Lustre. Amazon EBS provides block level storage volumes for use with EC2 instances and we recommend Amazon EBS for data that must be quickly accessible and requires long-term persistence. EBS volumes are particularly well-suited for use as primary storage for file systems, databases, or for any applications that require fine granular updates and access to raw, unformatted, block-level storage. Before adopting EBS, you need to be aware that EBS volume is linked to an Availability Zone (AZ), which means that your pods have to be kept in the same AZ so as to get mounted into the original EBS volume to maintain the application state. Amazon EFS is a fully-managed, serverless and elastic file system that spans across multiple-AZ out-of-the-box, meaning that you can mount multiple pods in your Amazon EKS cluster to easily leverage the multi-AZ fault-tolerance provided by the service. Amazon EFS is well-suited for use cases such as web serving environment, content management systems, home directories and general file serving. While Amazon EFS is a great option for a wide variety of workloads, its performance might be worse than EBS, especially when running workloads that requires high I/Os and low latency such as databases. One last current storage option you might consider is Amazon Sx for Lustre, which allows customer to run open-source high performance Lustre file system, making it suitable for workloads where speed matters such as machine learning, high performance computing (HPC), video processing and financial modelling; however, like Amazon EBS, Amazon FSx for Lustre is also AZ bound, which make it less preferred when customer needs to run applications that requires multi-AZ high availability. Is there a storage type on AWS that provides both multi-AZ fault-tolerance, high performance capability and with multi-protocol (SMB, NFS and iSCSI) support? The answer is yes, with Amazon FSx for NetApp ONTAP coming to rescue. 
